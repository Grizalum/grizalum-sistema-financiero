<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GRIZALUM - Sistema Financiero Empresarial Premium</title>
    
<!-- Meta Tags SEO -->
<meta name="description" content="Sistema financiero empresarial premium con IA integrada para empresas peruanas. Dashboard ejecutivo, flujo de caja, anÃ¡lisis predictivo.">
<meta name="keywords" content="sistema financiero, empresas peru, contabilidad, flujo de caja, dashboard, IA">
<meta name="author" content="GRIZALUM">

<!-- Favicon -->
<link rel="icon" type="image/x-icon" href="src/assets/images/favicon.ico">

<!-- Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">

<!-- FontAwesome -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js"></script>

<!-- Chart.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.0/chart.min.js"></script>

<!-- ESTILOS PROFESIONALES -->
<style>
:root {
    --primary: #667eea;
    --primary-dark: #5a67d8;
    --secondary: #764ba2;
    --accent: #f093fb;
    --success: #48bb78;
    --warning: #ed8936;
    --danger: #f56565;
    --dark: #1a202c;
    --bg-light: #f7fafc;
    --text-primary: #2d3748;
    --text-secondary: #718096;
    --border: #e2e8f0;
    --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
    --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
    --gradient-primary: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
    --gradient-accent: linear-gradient(135deg, var(--accent) 0%, var(--primary) 100%);
}

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'Inter', sans-serif;
    background: var(--bg-light);
    color: var(--text-primary);
    line-height: 1.6;
    overflow-x: hidden;
}

/* HEADER PROFESIONAL */
.header {
    background: white;
    box-shadow: var(--shadow);
    position: sticky;
    top: 0;
    z-index: 100;
    border-bottom: 1px solid var(--border);
}

.header-content {
    max-width: 1400px;
    margin: 0 auto;
    padding: 1rem 2rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.logo {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    font-weight: 800;
    font-size: 1.5rem;
    background: var(--gradient-primary);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

.logo i {
    font-size: 2rem;
    background: var(--gradient-primary);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

.header-nav {
    display: flex;
    gap: 2rem;
    align-items: center;
}

.nav-link {
    color: var(--text-secondary);
    text-decoration: none;
    font-weight: 500;
    transition: color 0.3s ease;
}

.nav-link:hover {
    color: var(--primary);
}

.user-menu {
    display: flex;
    align-items: center;
    gap: 1rem;
}

.notification-btn {
    position: relative;
    background: none;
    border: none;
    color: var(--text-secondary);
    font-size: 1.2rem;
    cursor: pointer;
    padding: 0.5rem;
    border-radius: 8px;
    transition: all 0.3s ease;
}

.notification-btn:hover {
    background: var(--bg-light);
    color: var(--primary);
}

.notification-badge {
    position: absolute;
    top: 0.25rem;
    right: 0.25rem;
    background: var(--danger);
    color: white;
    border-radius: 50%;
    width: 8px;
    height: 8px;
}

/* DASHBOARD CONTAINER */
.dashboard {
    max-width: 1400px;
    margin: 0 auto;
    padding: 2rem;
    display: grid;
    gap: 2rem;
}

/* WELCOME SECTION */
.welcome-section {
    background: var(--gradient-primary);
    color: white;
    padding: 2rem;
    border-radius: 16px;
    position: relative;
    overflow: hidden;
}

.welcome-section::before {
    content: '';
    position: absolute;
    top: 0;
    right: 0;
    width: 200px;
    height: 200px;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 50%;
    transform: translate(50%, -50%);
}

.welcome-content {
    position: relative;
    z-index: 2;
}

.welcome-title {
    font-size: 2.5rem;
    font-weight: 900;
    margin-bottom: 0.5rem;
}

.welcome-subtitle {
    font-size: 1.1rem;
    opacity: 0.9;
    margin-bottom: 1.5rem;
}

.quick-stats {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1rem;
    margin-top: 1.5rem;
}

.quick-stat {
    background: rgba(255, 255, 255, 0.15);
    backdrop-filter: blur(10px);
    padding: 1rem;
    border-radius: 12px;
    text-align: center;
}

.quick-stat-number {
    font-size: 1.8rem;
    font-weight: 800;
    display: block;
}

.quick-stat-label {
    font-size: 0.9rem;
    opacity: 0.9;
}

/* METRICS GRID */
.metrics-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 1.5rem;
    margin-bottom: 2rem;
}

.metric-card {
    background: white;
    padding: 1.5rem;
    border-radius: 16px;
    box-shadow: var(--shadow);
    transition: all 0.3s ease;
    border: 1px solid var(--border);
}

.metric-card:hover {
    transform: translateY(-4px);
    box-shadow: var(--shadow-lg);
}

.metric-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1rem;
}

.metric-title {
    font-size: 0.9rem;
    color: var(--text-secondary);
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.metric-icon {
    width: 40px;
    height: 40px;
    border-radius: 10px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.2rem;
    color: white;
}

.metric-icon.revenue { background: var(--gradient-primary); }
.metric-icon.expenses { background: linear-gradient(135deg, var(--warning), #f6ad55); }
.metric-icon.profit { background: linear-gradient(135deg, var(--success), #68d391); }
.metric-icon.growth { background: var(--gradient-accent); }

.metric-value {
    font-size: 2.2rem;
    font-weight: 800;
    color: var(--text-primary);
    margin-bottom: 0.5rem;
}

.metric-change {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-size: 0.9rem;
    font-weight: 600;
}

.metric-change.positive { color: var(--success); }
.metric-change.negative { color: var(--danger); }

/* CHARTS SECTION */
.charts-section {
    display: grid;
    grid-template-columns: 2fr 1fr;
    gap: 2rem;
    margin-bottom: 2rem;
}

.chart-card {
    background: white;
    padding: 1.5rem;
    border-radius: 16px;
    box-shadow: var(--shadow);
    border: 1px solid var(--border);
}

.chart-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1.5rem;
    padding-bottom: 1rem;
    border-bottom: 1px solid var(--border);
}

.chart-title {
    font-size: 1.2rem;
    font-weight: 700;
    color: var(--text-primary);
}

.chart-filters {
    display: flex;
    gap: 0.5rem;
}

.filter-btn {
    padding: 0.5rem 1rem;
    border: 1px solid var(--border);
    background: white;
    border-radius: 8px;
    font-size: 0.8rem;
    cursor: pointer;
    transition: all 0.3s ease;
}

.filter-btn.active {
    background: var(--primary);
    color: white;
    border-color: var(--primary);
}

.chart-container {
    position: relative;
    height: 350px;
    width: 100%;
}

/* RECENT ACTIVITY */
.activity-section {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 2rem;
}

.activity-card {
    background: white;
    padding: 1.5rem;
    border-radius: 16px;
    box-shadow: var(--shadow);
    border: 1px solid var(--border);
}

.activity-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1.5rem;
}

.activity-title {
    font-size: 1.1rem;
    font-weight: 700;
    color: var(--text-primary);
}

.view-all-btn {
    color: var(--primary);
    text-decoration: none;
    font-size: 0.9rem;
    font-weight: 600;
}

.activity-list {
    list-style: none;
}

.activity-item {
    display: flex;
    align-items: center;
    gap: 1rem;
    padding: 1rem 0;
    border-bottom: 1px solid var(--border);
}

.activity-item:last-child {
    border-bottom: none;
}

.activity-icon {
    width: 36px;
    height: 36px;
    border-radius: 8px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1rem;
    color: white;
}

.activity-content {
    flex: 1;
}

.activity-description {
    font-weight: 600;
    color: var(--text-primary);
    margin-bottom: 0.25rem;
}

.activity-time {
    font-size: 0.8rem;
    color: var(--text-secondary);
}

.activity-amount {
    font-weight: 700;
    color: var(--text-primary);
}

/* FLOATING ACTION BUTTON */
.fab {
    position: fixed;
    bottom: 2rem;
    right: 2rem;
    width: 60px;
    height: 60px;
    background: var(--gradient-primary);
    border: none;
    border-radius: 50%;
    color: white;
    font-size: 1.5rem;
    cursor: pointer;
    box-shadow: var(--shadow-lg);
    transition: all 0.3s ease;
    z-index: 1000;
}

.fab:hover {
    transform: scale(1.1);
    box-shadow: 0 15px 25px -5px rgba(0, 0, 0, 0.2);
}

/* RESPONSIVE DESIGN */
@media (max-width: 1200px) {
    .charts-section {
        grid-template-columns: 1fr;
    }
}

@media (max-width: 768px) {
    .dashboard {
        padding: 1rem;
    }
    
    .header-content {
        padding: 1rem;
    }
    
    .header-nav {
        display: none;
    }
    
    .welcome-title {
        font-size: 2rem;
    }
    
    .metrics-grid {
        grid-template-columns: 1fr;
    }
    
    .activity-section {
        grid-template-columns: 1fr;
    }
    
    .quick-stats {
        grid-template-columns: repeat(2, 1fr);
    }
}

/* LOADING ANIMATIONS */
@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(30px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.metric-card,
.chart-card,
.activity-card {
    animation: fadeInUp 0.6s ease forwards;
}

.metric-card:nth-child(1) { animation-delay: 0.1s; }
.metric-card:nth-child(2) { animation-delay: 0.2s; }
.metric-card:nth-child(3) { animation-delay: 0.3s; }
.metric-card:nth-child(4) { animation-delay: 0.4s; }

/* PULSE ANIMATIONS */
@keyframes pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.7; }
}

.metric-value {
    animation: pulse 2s infinite;
}
</style>
<nav class="header-nav">
            <a href="#dashboard" class="nav-link">Dashboard</a>
            <a href="#analytics" class="nav-link">AnÃ¡lisis</a>
            <a href="#reports" class="nav-link">Reportes</a>
            <a href="#settings" class="nav-link">ConfiguraciÃ³n</a>
        </nav>
        
        <div class="user-menu">
            <button class="notification-btn">
                <i class="fas fa-bell"></i>
                <div class="notification-badge"></div>
            </button>
            <button class="notification-btn">
                <i class="fas fa-user-circle"></i>
            </button>
        </div>
    </div>
</header>

<!-- DASHBOARD -->
<main class="dashboard">
    <!-- WELCOME SECTION -->
    <section class="welcome-section">
        <div class="welcome-content">
            <h1 class="welcome-title">Â¡Bienvenido a GRIZALUM!</h1>
            <p class="welcome-subtitle">Dashboard ejecutivo - Sistema financiero empresarial premium</p>
            
            <div class="quick-stats">
                <div class="quick-stat">
                    <span class="quick-stat-number" id="totalRevenue">S/. 145,230</span>
                    <span class="quick-stat-label">Ingresos del Mes</span>
                </div>
                <div class="quick-stat">
                    <span class="quick-stat-number" id="activeClients">324</span>
                    <span class="quick-stat-label">Clientes Activos</span>
                </div>
                <div class="quick-stat">
                    <span class="quick-stat-number" id="profitMargin">23.5%</span>
                    <span class="quick-stat-label">Margen de Ganancia</span>
                </div>
            </div>
        </div>
    </section>

    <!-- METRICS GRID -->
    <section class="metrics-grid">
        <div class="metric-card">
            <div class="metric-header">
                <span class="metric-title">Ingresos Totales</span>
                <div class="metric-icon revenue">
                    <i class="fas fa-arrow-trend-up"></i>
                </div>
            </div>
            <div class="metric-value" id="revenueValue">S/. 2,847,293</div>
            <div class="metric-change positive">
                <i class="fas fa-arrow-up"></i>
                <span>+12.5% vs mes anterior</span>
            </div>
        </div>

        <div class="metric-card">
            <div class="metric-header">
                <span class="metric-title">Gastos Operativos</span>
                <div class="metric-icon expenses">
                    <i class="fas fa-receipt"></i>
                </div>
            </div>
            <div class="metric-value" id="expensesValue">S/. 1,892,847</div>
            <div class="metric-change negative">
                <i class="fas fa-arrow-down"></i>
                <span>+3.2% vs mes anterior</span>
            </div>
        </div>

        <div class="metric-card">
            <div class="metric-header">
                <span class="metric-title">Utilidad Neta</span>
                <div class="metric-icon profit">
                    <i class="fas fa-coins"></i>
                </div>
            </div>
            <div class="metric-value" id="profitValue">S/. 954,446</div>
            <div class="metric-change positive">
                <i class="fas fa-arrow-up"></i>
                <span>+18.7% vs mes anterior</span>
            </div>
        </div>

        <div class="metric-card">
            <div class="metric-header">
                <span class="metric-title">Crecimiento</span>
                <div class="metric-icon growth">
                    <i class="fas fa-chart-area"></i>
                </div>
            </div>
            <div class="metric-value" id="growthValue">+24.8%</div>
            <div class="metric-change positive">
                <i class="fas fa-arrow-up"></i>
                <span>Meta anual: 20%</span>
            </div>
        </div>
    </section>

    <!-- CHARTS SECTION -->
    <section class="charts-section">
        <div class="chart-card">
            <div class="chart-header">
                <h3 class="chart-title">Flujo de Caja - Ãltimos 6 Meses</h3>
                <div class="chart-filters">
                    <button class="filter-btn active">6M</button>
                    <button class="filter-btn">1A</button>
                    <button class="filter-btn">2A</button>
                </div>
            </div>
            <div class="chart-container">
                <canvas id="cashFlowChart"></canvas>
            </div>
        </div>

        <div class="chart-card">
            <div class="chart-header">
                <h3 class="chart-title">DistribuciÃ³n de Gastos</h3>
            </div>
            <div class="chart-container">
                <canvas id="expensesChart"></canvas>
            </div>
        </div>
    </section>

    <!-- ACTIVITY SECTION -->
    <section class="activity-section">
        <div class="activity-card">
            <div class="activity-header">
                <h3 class="activity-title">Transacciones Recientes</h3>
                <a href="#" class="view-all-btn">Ver todas</a>
            </div>
            <ul class="activity-list">
                <li class="activity-item">
                    <div class="activity-icon revenue">
                        <i class="fas fa-plus"></i>
                    </div>
                    <div class="activity-content">
                        <div class="activity-description">Pago recibido - Cliente ABC SAC</div>
                        <div class="activity-time">Hace 2 horas</div>
                    </div>
                    <div class="activity-amount">+S/. 15,480</div>
                </li>
                <li class="activity-item">
                    <div class="activity-icon expenses">
                        <i class="fas fa-minus"></i>
                    </div>
                    <div class="activity-content">
                        <div class="activity-description">Pago de nÃ³mina - Enero 2025</div>
                        <div class="activity-time">Hace 4 horas</div>
                    </div>
                    <div class="activity-amount">-S/. 28,750</div>
                </li>
                <li class="activity-item">
                    <div class="activity-icon profit">
                        <i class="fas fa-chart-line"></i>
                    </div>
                    <div class="activity-content">
                        <div class="activity-description">InversiÃ³n en marketing digital</div>
                        <div class="activity-time">Hace 1 dÃ­a</div>
                    </div>
                    <div class="activity-amount">-S/. 5,200</div>
                </li>
            </ul>
        </div>

        <div class="activity-card">
            <div class="activity-header">
                <h3 class="activity-title">Alertas y Notificaciones</h3>
                <a href="#" class="view-all-btn">Ver todas</a>
            </div>
            <ul class="activity-list">
                <li class="activity-item">
                    <div class="activity-icon warning" style="background: linear-gradient(135deg, #ed8936, #f6ad55);">
                        <i class="fas fa-exclamation-triangle"></i>
                    </div>
                    <div class="activity-content">
                        <div class="activity-description">Vencimiento de factura pendiente</div>
                        <div class="activity-time">Vence en 3 dÃ­as</div>
                    </div>
                </li>
                <li class="activity-item">
                    <div class="activity-icon" style="background: linear-gradient(135deg, #48bb78, #68d391);">
                        <i class="fas fa-check-circle"></i>
                    </div>
                    <div class="activity-content">
                        <div class="activity-description">Meta mensual alcanzada</div>
                        <div class="activity-time">Hace 2 dÃ­as</div>
                    </div>
                </li>
                <li class="activity-item">
                    <div class="activity-icon" style="background: linear-gradient(135deg, #667eea, #764ba2);">
                        <i class="fas fa-robot"></i>
                    </div>
                    <div class="activity-content">
                        <div class="activity-description">IA detectÃ³ oportunidad de ahorro</div>
                        <div class="activity-time">Hace 3 dÃ­as</div>
                    </div>
                </li>
            </ul>
        </div>
    </section>
</main>

<!-- FLOATING ACTION BUTTON -->
<button class="fab" onclick="toggleAI()">
    <i class="fas fa-robot"></i>
</button>

<!-- SCRIPTS -->
<script src="src/assets/js/utils.js"></script>
<script src="src/assets/js/company-manager.js"></script>
<script src="src/assets/js/advanced-ai-assistant.js"></script>
<script src="src/assets/js/main.js"></script>

<script>
    // Initialize Charts
    document.addEventListener('DOMContentLoaded', function() {
        console.log('ð Inicializando GRIZALUM Dashboard Profesional...');
        
        initializeCashFlowChart();
        initializeExpensesChart();
        animateMetrics();
        startRealTimeUpdates();
        
        console.log('â Dashboard completamente cargado');
    });

    // Cash Flow Chart
    function initializeCashFlowChart() {
        const ctx = document.getElementById('cashFlowChart').getContext('2d');
        new Chart(ctx, {
            type: 'line',
            data: {
                labels: ['Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre', 'Enero'],
                datasets: [{
                    label: 'Ingresos',
                    data: [2200000, 2350000, 2180000, 2420000, 2650000, 2847293],
                    borderColor: '#667eea',
                    backgroundColor: 'rgba(102, 126, 234, 0.1)',
                    tension: 0.4,
                    fill: true
                }, {
                    label: 'Gastos',
                    data: [1800000, 1850000, 1780000, 1920000, 1850000, 1892847],
                    borderColor: '#ed8936',
                    backgroundColor: 'rgba(237, 137, 54, 0.1)',
                    tension: 0.4,
                    fill: true
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'bottom'
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        ticks: {
                            callback: function(value) {
                                return 'S/. ' + (value / 1000000).toFixed(1) + 'M';
                            }
                        }
                    }
                }
            }
        });
    }

    // Expenses Pie Chart
    function initializeExpensesChart() {
        const ctx = document.getElementById('expensesChart').getContext('2d');
        new Chart(ctx, {
            type: 'doughnut',
            data: {
                labels: ['NÃ³mina', 'Marketing', 'Operaciones', 'TecnologÃ­a', 'Otros'],
                datasets: [{
                    data: [45, 20, 15, 12, 8],
                    backgroundColor: [
                        '#667eea',
                        '#ed8936',
                        '#48bb78',
                        '#f093fb',
                        '#a0aec0'
                    ],
                    borderWidth: 0
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'bottom'
                    }
                }
            }
        });
    }

    // Animate Metrics
    function animateMetrics() {
        const counters = [
            { id: 'totalRevenue', target: 145230, prefix: 'S/. ', format: true },
            { id: 'activeClients', target: 324, prefix: '', format: false },
            { id: 'profitMargin', target: 23.5, prefix: '', suffix: '%', format: false },
            { id: 'revenueValue', target: 2847293, prefix: 'S/. ', format: true },
            { id: 'expensesValue', target: 1892847, prefix: 'S/. ', format: true },
            { id: 'profitValue', target: 954446, prefix: 'S/. ', format: true }
        ];

        counters.forEach(counter => {
            const element = document.getElementById(counter.id);
            if (!element) return;

            let current = 0;
            const increment = counter
            .target / 100;
               const timer = setInterval(() => {
                   current += increment;
                   if (current >= counter.target) {
                       current = counter.target;
                       clearInterval(timer);
                   }
                   
                   let displayValue = counter.format ? 
                       Math.floor(current).toLocaleString() : 
                       current.toFixed(1);
                   
                   element.textContent = (counter.prefix || '') + displayValue + (counter.suffix || '');
               }, 20);
           });
       }

       // Real-time Updates
       function startRealTimeUpdates() {
           setInterval(() => {
               // Simular actualizaciones en tiempo real
               updateMetricValues();
           }, 30000); // Cada 30 segundos
       }

       function updateMetricValues() {
           const elements = [
               { id: 'totalRevenue', variation: 0.02 },
               { id: 'activeClients', variation: 0.01 },
               { id: 'revenueValue', variation: 0.015 }
           ];

           elements.forEach(elem => {
               const element = document.getElementById(elem.id);
               if (element) {
                   const currentValue = parseFloat(element.textContent.replace(/[^\d.]/g, ''));
                   const newValue = currentValue * (1 + (Math.random() - 0.5) * elem.variation);
                   
                   if (elem.id.includes('Revenue') || elem.id.includes('Value')) {
                       element.textContent = 'S/. ' + Math.floor(newValue).toLocaleString();
                   } else {
                       element.textContent = Math.floor(newValue).toString();
                   }
               }
           });
       }

       // Toggle AI Assistant
       function toggleAI() {
           if (window.advancedAI && typeof window.advancedAI.toggle === 'function') {
               window.advancedAI.toggle();
           } else {
               console.log('ð¤ AI Assistant loading...');
               // Fallback si el AI no estÃ¡ cargado aÃºn
               setTimeout(() => {
                   if (window.advancedAI) {
                       window.advancedAI.toggle();
                   }
               }, 1000);
           }
       }

       // Filter buttons functionality
       document.querySelectorAll('.filter-btn').forEach(btn => {
           btn.addEventListener('click', function() {
               document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
               this.classList.add('active');
           });
       });

       // Responsive navigation
       function toggleMobileMenu() {
           const nav = document.querySelector('.header-nav');
           nav.classList.toggle('mobile-open');
       }

       // Notification click handler
       document.querySelectorAll('.notification-btn').forEach(btn => {
           btn.addEventListener('click', function() {
               this.style.transform = 'scale(0.95)';
               setTimeout(() => {
                   this.style.transform = 'scale(1)';
               }, 150);
           });
       });

       // Add loading states
       function showLoading(elementId) {
           const element = document.getElementById(elementId);
           if (element) {
               element.innerHTML = '<i class="fas fa-spinner fa-spin"></i>';
           }
       }

       function hideLoading(elementId, content) {
           const element = document.getElementById(elementId);
           if (element) {
               element.innerHTML = content;
           }
       }

       // Keyboard shortcuts
       document.addEventListener('keydown', function(e) {
           // Ctrl + A para abrir AI
           if (e.ctrlKey && e.key === 'a') {
               e.preventDefault();
               toggleAI();
           }
           
           // Esc para cerrar modales
           if (e.key === 'Escape') {
               if (window.advancedAI && document.querySelector('.ai-assistant-panel.show')) {
                   window.advancedAI.toggle();
               }
           }
       });

       // Enhanced hover effects
       document.querySelectorAll('.metric-card').forEach(card => {
           card.addEventListener('mouseenter', function() {
               this.style.borderColor = '#667eea';
           });
           
           card.addEventListener('mouseleave', function() {
               this.style.borderColor = '#e2e8f0';
           });
       });

       // Progressive Web App functionality
       if ('serviceWorker' in navigator) {
           window.addEventListener('load', function() {
               navigator.serviceWorker.register('/sw.js')
                   .then(registration => console.log('â SW registered'))
                   .catch(error => console.log('â SW registration failed'));
           });
       }

       // Dark mode toggle (bonus feature)
       function toggleDarkMode() {
           document.body.classList.toggle('dark-mode');
           localStorage.setItem('darkMode', document.body.classList.contains('dark-mode'));
       }

       // Load saved dark mode preference
       if (localStorage.getItem('darkMode') === 'true') {
           document.body.classList.add('dark-mode');
       }

       console.log('ð¯ GRIZALUM Dashboard Profesional - Totalmente cargado y funcional');
       console.log('ð¤ AI Assistant integrado - Haz clic en el botÃ³n flotante');
       console.log('ð GrÃ¡ficos interactivos - Chart.js inicializado');
       console.log('â¡ Actualizaciones en tiempo real - Activas');
       console.log('ð¨ Animaciones y efectos - Habilitados');
   </script>

   <!-- ESTILOS ADICIONALES PARA DARK MODE -->
   <style>
   .dark-mode {
       --bg-light: #1a202c;
       --text-primary: #f7fafc;
       --text-secondary: #a0aec0;
       --border: #2d3748;
   }

   .dark-mode .metric-card,
   .dark-mode .chart-card,
   .dark-mode .activity-card,
   .dark-mode .header {
       background: #2d3748;
       border-color: #4a5568;
   }

   .dark-mode .welcome-section {
       background: linear-gradient(135deg, #2d3748 0%, #4a5568 100%);
   }

   /* Responsive fixes */
   @media (max-width: 768px) {
       .header-nav.mobile-open {
           display: flex;
           position: absolute;
           top: 100%;
           left: 0;
           right: 0;
           background: white;
           flex-direction: column;
           padding: 1rem;
           box-shadow: var(--shadow);
       }
   }
   </style>
</body>
</html>
